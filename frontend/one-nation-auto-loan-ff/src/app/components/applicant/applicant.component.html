<div class="form-margin"  >
<form [formGroup]="applicantForm" (ngSubmit)="submit()" >
    <mat-card class="example-card success-card">
        <mat-card-header>
            <mat-card-title class="success-card-title">
                Applicant Form
            </mat-card-title>
           
       <mat-card-subtitle class="success-card-subtitle">{{applicant}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <div >
                <br>
                <mat-form-field [hidden]="true" class="small-height-input">
                    <input formControlName="pk" matInput placeholder="pk"  type="input">
                </mat-form-field>
                <mat-form-field [hidden]="true" class="small-height-input">
                    <input formControlName="sk" matInput placeholder="sk"  type="input">
                </mat-form-field>
                <mat-form-field [hidden]="true" class="small-height-input">
                    <input formControlName="gsI1PK" matInput placeholder="gsI1PK"  type="input">
                </mat-form-field>
                <mat-form-field [hidden]="true" class="small-height-input">
                    <input formControlName="gsI1SK" matInput placeholder="gsI1SK"  type="input">
                </mat-form-field>
                <mat-form-field [hidden]="true" class="small-height-input">
                    <input formControlName="documentType" matInput placeholder="documentType"  type="input">
                </mat-form-field> 
                <mat-form-field [hidden]="true" class="small-height-input">
                    <input formControlName="display" matInput placeholder="display"  type="input">
                </mat-form-field> 
                <mat-form-field [hidden]="true" class="small-height-input">
                    <input formControlName="relatedApplicantId" matInput placeholder="relatedApplicantId"  type="input">
                </mat-form-field> 
                <div class="row">
                    <mat-form-field 
                    appearance="outline" 
                >
                <mat-label>Applicant Type</mat-label>
                <mat-select formControlName="applicantType" (selectionChange)="onSelectEvent($event.value)" >
                    <mat-option
                        *ngFor="let type of applicantType"
                        [value]="type.viewValue"
                    >
                        {{ type.viewValue }}
                    </mat-option>
                </mat-select>
                </mat-form-field >
               </div>
                <div class="row ">
                <mat-form-field 
                appearance="outline" >
                    <mat-label>First Name</mat-label>
                        <input
                            formControlName="firstName"
                            matInput
                            placeholder="FirstName"
                        />
                      
                    </mat-form-field>
                </div>
                 <div class="row">
                    <mat-form-field 
                    appearance="outline"   
                >
                    <mat-label >Last Name</mat-label>
                    <input
                        formControlName="lastName"
                        matInput
                        placeholder="LastName"
                    />
                </mat-form-field>
            </div>
                <!-- <div class="well"> -->
                    <button
                    type="button"
                     mat-icon-button
                        color="primary"
                        (click)="addAddress()"
                       
                        matTooltip="Add address"
                    >
                    <span  class="form-title2">Add Address </span>
                    <mat-icon
                    aria-hidden="false"
                    aria-label="Example home icon"
                    fontIcon="add_to_photos"
                ></mat-icon>
                </button>
                   
                    <div
                        *ngIf="isAddressExists() > 0"
                        formArrayName="address"
                    >
                        <div
                            *ngFor="
                                let entity of getAddress()?.controls;
                                let i = index
                            "
                            [formGroupName]="i"
                        >
                            <div class="">
                                <div>
                                </div>
                                <div>
                                    <button
                                    type="button"
                                    mat-icon-button
                                        color="accent"
                                        (click)="removeAddress(i)"
                                        matTooltip= "Delete Address"  
                                        matTooltipPosition="below"
                                    >
                                    <span class="form-title">Address {{ i + 1 }}</span>
                                    <mat-icon>delete</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <br>
    
                            <!-- <div class="row"> -->
                                <div class="row">
                                    <mat-form-field
                                        appearance="outline" 
                                    >
                                        <mat-label>Street</mat-label>
                                        <input
                                            formControlName="street"
                                            matInput
                                            placeholder="Street"
                                        />
                                    </mat-form-field>
                                </div>
                                <div class="row">
                                    <mat-form-field 
                                        appearance="outline"       
                                    >
                                        <mat-label>City</mat-label>
                                        <input
                                            formControlName="city"
                                            matInput
                                            placeholder="City"
                                        />
                                    </mat-form-field>
                                </div>
                                <div class="row">
                                    <mat-form-field
                                        appearance="outline"     
                                    >
                                        <mat-label>Province</mat-label>
                                        <input
                                            formControlName="province"
                                            matInput
                                            placeholder="Province"
                                        />
                                    </mat-form-field>
                                </div>
                                <div class="row">
                                    <mat-form-field
                                        appearance="outline"     
                                    >
                                        <mat-label>Country</mat-label>
                                        <input
                                            formControlName="country"
                                            matInput
                                            placeholder="Country"
                                        />
                                    </mat-form-field>
                                </div>

                                <div class="row">
                                    <mat-form-field
                                        appearance="outline"     
                                    >
                                        <mat-label>Postal Code</mat-label>
                                        <input
                                            formControlName="postalCode"
                                            matInput
                                            placeholder="Postal Code"
                                        />
                                    </mat-form-field>
                                </div>

                                <div class="row">
                                    <mat-form-field
                                        appearance="outline"     
                                    >
                                        <mat-label>Residence Years</mat-label>
                                        <input
                                            formControlName="residenceYears"
                                            matInput
                                            placeholder="ResidenceYears"
                                        />
                                    </mat-form-field>
                                </div>
                                <div class="row">
                                    <mat-form-field
                                        appearance="outline"      
                                    >
                                        <mat-label>Residence Months</mat-label>
                                        <input
                                            formControlName="residenceMonths"
                                            matInput
                                            placeholder="ResidenceMonths"
                                        />
                                    </mat-form-field>
                                </div>
                            <!-- </div> -->
                        </div>
                    </div>
                <!-- </div> -->
                <!-- <br> -->
                <div class="row">
                    <mat-form-field  
                    appearance="outline"   
                >
                    <mat-label class="">Phone</mat-label>
                    <input
                        formControlName="phone"
                        matInput
                        placeholder="Phone"
                        
                    />
                </mat-form-field>
            </div>
            <div class="row">
                <mat-form-field 
                appearance="outline"   
            >
                <mat-label>Email</mat-label>
                <input
                    formControlName="email"
                    matInput
                    placeholder="Email"
                />
            </mat-form-field>
        </div>

        <div class="row">
            <mat-form-field
            appearance="outline"   
        >
            <mat-label>SIN</mat-label>
            <input
                formControlName="sin"
                matInput
                placeholder="SIN"
                value=""
            />
        </mat-form-field >
       </div>

       <div class="row">
        <mat-form-field  appearance="outline" >
            <mat-label>DOB</mat-label>
            <input matInput [matDatepicker]="picker"
            formControlName ="dob"
            >
            <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
         </div>

         <div class="row">  
            <mat-form-field
            appearance="outline"    
        >
        <mat-label>Marital Status</mat-label>
        <mat-select formControlName="maritalStatus">
            <mat-option
                *ngFor="let mstatus of mstatuses"
                [value]="mstatus.viewValue"
            >
                {{ mstatus.viewValue }}
            </mat-option>
        </mat-select>
        </mat-form-field >
       </div>
       
    <div class="row">     
    <mat-label>Gender</mat-label>
    <mat-radio-group aria-label="Select an option" formControlName="gender" color="primary">
        <mat-radio-button value="Male">Male</mat-radio-button>
        <mat-radio-button value="Female">Female</mat-radio-button>
        <mat-radio-button value="Other">Other</mat-radio-button>
      </mat-radio-group> 
   </div>

   <div class="row">
    <mat-form-field
    appearance="outline"   
>
    <mat-label>Credit Score</mat-label>
    <input
        formControlName="creditScore"
        matInput
        placeholder="Credit Score"
        value=""
    />
</mat-form-field >
</div>

<div class="row">
    <mat-form-field
    appearance="outline"    
>
<mat-label>Status</mat-label>
<mat-select formControlName="status">
    <mat-option
        *ngFor="let stat of status"
        [value]="stat.viewValue"
    >
        {{ stat.viewValue }}
    </mat-option>
</mat-select>
</mat-form-field >
</div>

<div class="row">
    <mat-form-field
    appearance="outline"    
>
<mat-label>Deal Status</mat-label>
<mat-select formControlName="dealStatus">
    <mat-option
        *ngFor="let deal of dealStatus"
        [value]="deal.viewValue"
    >
        {{ deal.viewValue }}
    </mat-option>
</mat-select>
</mat-form-field >
</div>

<div class="row">
    <mat-form-field
    appearance="outline"    
>
    <mat-label >Referral Code</mat-label>
    <input
        formControlName="referralCode"
        matInput
        placeholder="Referral Code"
    />
</mat-form-field >
</div>

<div class="row">  
    <mat-form-field class="select-boxes" color="warn" appearance="outline">
        <mat-label>Assigned Dealer</mat-label>
        <mat-select  formControlName="tempDealerId" multiple>
          <mat-select-trigger>
            {{assignedDealer.value?.[0] || ''}}
              <span *ngIf="(assignedDealer.value?.length || 0) > 1" class="example-additional-selection">
                (+{{(assignedDealer.value?.length || 0) - 1}} {{assignedDealer.value?.length === 2 ? 'other' : 'others'}})
              </span>
          </mat-select-trigger>
        <mat-option *ngFor="let dealer of dealers" [value]="dealer.item">{{dealer.item}}</mat-option>
      <!-- } -->
        </mat-select>
      </mat-form-field>
    <!-- <mat-label class="m-20">Assigned Dealer</mat-label> 
<ng-multiselect-dropdown
[settings]="dropdownSettings"
[data]="dropdownList"
formControlName="tempDealerId"
>

</ng-multiselect-dropdown> -->
</div>

<div class="row">
    <mat-form-field 
    appearance="outline"   
>
    <mat-label >Sales</mat-label>
    <input
        formControlName="sales"
        matInput
        placeholder="Sales"
    />
</mat-form-field >
</div>

<div class="row">
    <mat-form-field
    appearance="outline"     
>
    <mat-label >Finance</mat-label>
    <input
        formControlName="finance"
        matInput
        placeholder="Finance"
    />
</mat-form-field >
</div>

<div class="row">
    <mat-form-field
    appearance="outline"     
>
    <mat-label >Gross</mat-label>
    <input
        formControlName="gross"
        matInput
        placeholder="Gross"
    />
</mat-form-field >
</div>

<div class="button-set">   
        <button
                mat-raised-button
                color="primary"
                type="submit"
                class="button-width"
                [disabled]="isDisabled"
            >
                Save
            </button>
            <button
            mat-raised-button
            (click)="clear()"
            color="primary"
            type="submit"
            class="button-width"
            [disabled]="isDisabled"
        >
            clear
        </button>
        <button         
        
        mat-raised-button
        color="primary"
        (click)="close()"
        class="button-width"
    >
        Close
    </button>      
    </div>
    
</div>
             
        </mat-card-content>
    </mat-card>
</form>
</div>

